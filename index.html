<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Projectile Hanami by avdgaag</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Projectile Hanami</h1>
      <h2 class="project-tagline">Projectile Hanami is an Emacs minor mode, based on Projectile, for navigating Hanami projects.</h2>
      <a href="https://github.com/avdgaag/projectile-hanami" class="btn">View on GitHub</a>
      <a href="https://github.com/avdgaag/projectile-hanami/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/avdgaag/projectile-hanami/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>Projectile Hanami</h1>

      <h2>Summary</h2>

      <p>Projectile Hanami is an <a href="http://www.gnu.org/software/emacs/emacs.html">Emacs</a> minor mode, based on <a href="https://github.com/bbatsov/projectile">Projectile</a>, for navigating <a href="https://hanamirb.org">Hanami</a> projects. With Projectile Hanami, you can:</p>

      <ul>
        <li>navigate through entities, repositories, actions, views and templates are different apps in your project;</li>
        <li>quickly jump to some important standard files;</li>
        <li>run <code>hanami server</code>
        </li>
        <li>run <code>hanami console</code>
        </li>
        <li>run <code>hanami generate</code>
        </li>
        <li>run Rake tasks</li>
      </ul>

      <p>Projectile Hanami is based on <a href="https://github.com/asok/projectile-rails">Projectile Rails</a>, but is not a complete port of all its functionality.</p>

      <h2>Installation</h2>

      <p>This guide assumes you have <a href="https://github.com/bbatsov/projectile">Projectile</a> already set up.</p>

      <h3>MELPA</h3>

      <p>If you have <a href="http://melpa.org">MELPA</a> set up, you can use <code>package-install</code> to install the <code>projectile-hanami</code> package.</p>

      <h3>Manual installation</h3>

      <p>You can manually install Projectile hanami by cloning the repository and adding it to your <code>load-path</code>:</p>

      <pre class="highlight highlight-elisp"><code><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'load-path</span> <span class="s">"/path/to/repo"</span><span class="p">)</span>
        <span class="p">(</span><span class="nb">require</span> <span class="ss">'projectile-hanami</span><span class="p">)</span>
      </code></pre>


      <h2>Setup</h2>

      <p>To have Projectile Hanami loaded whenever Projectile is loaded, you can add it as a hook:</p>

      <pre class="highlight highlight-elisp"><code><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'projectile-mode-hook</span> <span class="ss">'projectile-hanami-on</span><span class="p">)</span>
      </code></pre>


      <p>...but, this will most likely conflict with Projectile Rails. If you use both <a href="https://rubyonrails.org">Ruby on Rails</a> <em>and</em> Hanami, you will probably want something <em>slightly</em> more sophisticated. I use the following snippet:</p>

      <pre class="highlight highlight-elisp"><code><span class="p">(</span><span class="nb">defun</span> <span class="nv">projectile-rails-or-hanami-on</span> <span class="p">()</span>
        <span class="s">"Activate either `projectile-rails-mode` or `projectile-hanami-mode`."</span>
        <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">projectile-hanami-applicable-p</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">projectile-hanami-mode</span> <span class="mi">+1</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">projectile-rails-on</span><span class="p">)))</span>

        <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'projectile-mode-hook</span> <span class="ss">'projectile-rails-or-hanami-on</span><span class="p">)</span>
      </code></pre>


      <p>Since Projectile Rails cannot distinguish between Rails and Hanami projects, and Hanami <em>can</em>, we use Projectile Hanami's detection mechanism and fall back to Projectile Rails in case of no match.</p>

      <h2>Usage</h2>

      <h3>Customization</h3>

      <p>You can define the Projectile Hanami keybinding prefix:</p>

      <pre class="highlight highlight-elisp"><code><span class="c1">;; Defaults to C-c ;</span>
        <span class="p">(</span><span class="k">setq</span> <span class="nv">projectile-hanami-keymap-prefix</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">"C-c p C-q"</span><span class="p">))</span>
      </code></pre>


      <p>To override how Hanami commands are invoked:</p>

      <pre class="highlight highlight-elisp"><code><span class="c1">;; Defaults to `bundle exec hanami`</span>
        <span class="p">(</span><span class="k">setq</span> <span class="nv">projectile-hanami-cmd</span> <span class="s">"/path/to/hanami"</span><span class="p">)</span>
      </code></pre>


      <h3>Commands</h3>

      <table>
        <thead>
          <tr>
            <th>Command</th>
            <th>Keybinding</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>projectile-hanami-find-initializer</td>
            <td><kbd>C-c ; i</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find initializers across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-lib</td>
            <td><kbd>C-c ; l</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find project lib files.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-controller</td>
            <td><kbd>C-c ; c</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find controller actions across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-view</td>
            <td><kbd>C-c ; v</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find views across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-template</td>
            <td><kbd>C-c ; t</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find templates across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-presenter</td>
            <td><kbd>C-c ; p</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find presenters across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-stylesheet</td>
            <td><kbd>C-c ; s</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find stylesheets across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-javascript</td>
            <td><kbd>C-c ; j</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find javascripts across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-config</td>
            <td><kbd>C-c ; g</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find config files across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-routes</td>
            <td><kbd>C-c ; u</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find routes files across apps.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-entity</td>
            <td><kbd>C-c ; e</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find entities.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-repository</td>
            <td><kbd>C-c ; r</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find repositories.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-mailer</td>
            <td><kbd>C-c ; m</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find mailers.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-mailer-template</td>
            <td><kbd>C-c ; T</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find mailer templates.</td>
          </tr>
          <tr>
            <td>projectile-hanami-find-application</td>
            <td><kbd>C-c ; a</kbd></td>
            <td>Use <code>projectile-completion-system</code> to find main application files.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-related-controller</td>
            <td><kbd>C-c ; C</kbd></td>
            <td>Find the controller action related to the current view or template.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-related-template</td>
            <td><kbd>C-c ; T</kbd></td>
            <td>Find the template related to the current view or controller action.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-related-view</td>
            <td><kbd>C-c ; V</kbd></td>
            <td>Find the view related to the current template or controller action.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-entity</td>
            <td><kbd>C-c ; E</kbd></td>
            <td>Find the entity for the current repository.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-repository</td>
            <td><kbd>C-c ; R</kbd></td>
            <td>Find the repository for the current entity.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-mapping</td>
            <td><kbd>C-c ; g m</kbd></td>
            <td>Find the project's <code>lib/config/mapping.rb</code> file</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-rakefile</td>
            <td><kbd>C-c ; g r</kbd></td>
            <td>Find the project's Rakefile.</td>
          </tr>
          <tr>
            <td>projectile-hanami-goto-gemfile</td>
            <td><kbd>C-c ; g g</kbd></td>
            <td>Find the project's Gemfile.</td>
          </tr>
          <tr>
            <td>projectile-hanami-rake</td>
            <td><kbd>C-c ; ! r</kbd></td>
            <td>Run a project Rake task.</td>
          </tr>
          <tr>
            <td>projectile-hanami-console</td>
            <td><kbd>C-c ; ! c</kbd></td>
            <td>Run <code>hanami console</code>
            </td>
          </tr>
          <tr>
            <td>projectile-hanami-server</td>
            <td><kbd>C-c ; ! s</kbd></td>
            <td>Run <code>hanami server</code>
            </td>
          </tr>
          <tr>
            <td>projectile-hanami-generate</td>
            <td><kbd>C-c ; ! g</kbd></td>
            <td>Run <code>hanami generate</code>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

  </body>
</html>
